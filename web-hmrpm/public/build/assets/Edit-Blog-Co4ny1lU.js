import{u as g,r as f,j as e,H as j,L as v,d as c,X as N}from"./app-Dr-qe37l.js";import{A as w}from"./AdminLayout-BjJPFavO.js";import{C as k,a as y}from"./ckeditor-CIpkTn8c.js";import{A as _}from"./arrow-left-TmFETYi6.js";import{T as C}from"./tag-DiJfljkY.js";import{C as z}from"./calendar-DjZH1uGz.js";import{U as x}from"./upload-TG1143yt.js";import{S as L}from"./save-BTgP8imT.js";import"./users-Bjgq_9_M.js";import"./file-text-DdEopQ7c.js";import"./graduation-cap-BC1a482v.js";import"./index-Bm14vWMG.js";import"./chevron-right-CwKZBFzI.js";import"./chevron-left-nwOPkPhN.js";import"./chevron-down-B_zxC0gj.js";import"./Toast-CM92iiXC.js";function T({blog:s,blogTypes:p}){const{data:r,setData:l,post:m,processing:n,errors:a}=g({_method:"PUT",blog_type_id:s.blog_type_id,title:s.title,date:s.date,image:null,content:s.content,excerpt:s.excerpt??"",is_published:!!s.is_published}),[d,o]=f.useState(s.image),u=t=>{const i=t.target.files[0];i&&(l("image",i),o(URL.createObjectURL(i)))},b=t=>{t.preventDefault(),m(`/admin/blog/${s.id}`)};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:`Edit Blog: ${s.title}`}),e.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(v,{href:"/admin/blog",className:"p-2 bg-white border border-border rounded-xl hover:bg-muted transition-colors",children:e.jsx(_,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-foreground uppercase tracking-tighter",children:"EDIT BLOG"}),e.jsxs("p",{className:"text-muted-foreground text-xs font-medium",children:['Perbarui konten artikel "',s.title,'"']})]})]})}),e.jsxs("form",{onSubmit:b,className:"grid grid-cols-1 lg:grid-cols-3 gap-6 text-foreground",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Judul Artikel"}),e.jsx("input",{type:"text",value:r.title,onChange:t=>l("title",t.target.value),placeholder:"Masukkan judul blog...",className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-lg"}),a.title&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Isi Konten"}),e.jsxs("div",{className:"prose-sm ck-content max-w-none",children:[e.jsx("style",{children:`
                                        .ck-editor__editable {
                                            min-height: 400px;
                                            border-bottom-left-radius: 12px !important;
                                            border-bottom-right-radius: 12px !important;
                                        }
                                        .ck-editor {
                                            width: 100% !important;
                                        }
                                    `}),e.jsx(k,{editor:y,data:r.content,onChange:(t,i)=>{const h=i.getData();l("content",h)},config:{placeholder:"Tunjukkan kreativitasmu di sini...",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote","|","undo","redo"]}})]}),a.content&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.content})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Ringkasan (Opsional)"}),e.jsx("textarea",{value:r.excerpt,onChange:t=>l("excerpt",t.target.value),placeholder:"Ringkasan singkat yang muncul di daftar blog...",rows:"3",className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-medium text-sm resize-none"}),a.excerpt&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.excerpt})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(C,{size:12})," Tipe Blog"]}),e.jsxs("select",{value:r.blog_type_id,onChange:t=>l("blog_type_id",t.target.value),className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-sm",children:[e.jsx("option",{value:"",children:"Pilih Tipe"}),p.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),a.blog_type_id&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.blog_type_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(z,{size:12})," Tanggal Terbit"]}),e.jsx("input",{type:"date",value:r.date,onChange:t=>l("date",t.target.value),className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-sm"}),a.date&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.date})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-2xl border border-border",children:[e.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-600",children:"Terbitkan Langsung?"}),e.jsx("button",{type:"button",onClick:()=>l("is_published",!r.is_published),className:c("relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",r.is_published?"bg-brand-red":"bg-slate-300"),children:e.jsx("span",{className:c("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",r.is_published?"translate-x-6":"translate-x-1")})})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(x,{size:12})," Gambar Sampul"]}),e.jsx("div",{className:"relative group",children:d?e.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border-2 border-brand-red/20 shadow-xl group",children:[e.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("button",{type:"button",onClick:()=>{o(null),l("image",null)},className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-brand-red transition-colors",children:e.jsx(N,{size:20})})})]}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",onChange:u,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsxs("div",{className:"aspect-video bg-muted border-2 border-dashed border-border rounded-2xl flex flex-col items-center justify-center gap-3 group-hover:border-brand-red/50 transition-colors",children:[e.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(x,{className:"text-brand-red",size:24})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Pilih Gambar Sampul"})]})]})}),a.image&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:a.image})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center gap-2 bg-slate-900 hover:bg-brand-red text-white py-3.5 rounded-2xl font-black transition-all shadow-xl hover:shadow-brand-red/30 uppercase tracking-widest overflow-hidden group relative",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2 leading-none",children:[e.jsx(L,{size:20}),n?"MENYIMPAN...":"SIMPAN PERUBAHAN"]})})]})]})]})]})}T.layout=s=>e.jsx(w,{children:s});export{T as default};
