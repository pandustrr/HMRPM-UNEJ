import{u as g,r as h,j as e,H as f,L as j,d as c,X as v}from"./app-BsDCLgsd.js";import{A as N}from"./AdminLayout-BzJBPKA0.js";import{C as w,a as k}from"./ckeditor-BiTajR8B.js";import{A as y}from"./arrow-left-BeEZMlg8.js";import{T as _}from"./tag-BP1P0G2L.js";import{C}from"./calendar-BsKtn9KB.js";import{U as x}from"./upload-CeMf_9aq.js";import{S as L}from"./save-COw1thEO.js";import"./users-CbBri5PR.js";import"./file-text-CYZ2Wlgc.js";import"./graduation-cap-BmbWGz5e.js";import"./index-Bmg_cQlb.js";import"./chevron-right-DAb9T5op.js";import"./chevron-left-CWgBX94_.js";import"./chevron-down-CBxsPo30.js";import"./Toast-Bdjx6Kdi.js";function T({blogTypes:i}){const{data:a,setData:r,post:p,processing:n,errors:s}=g({blog_type_id:"",title:"",date:new Date().toISOString().split("T")[0],image:null,content:"",excerpt:"",is_published:!0}),[o,d]=h.useState(null),u=t=>{const l=t.target.files[0];l&&(r("image",l),d(URL.createObjectURL(l)))},m=t=>{t.preventDefault(),p("/admin/blog")};return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Buat Blog Baru"}),e.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(j,{href:"/admin/blog",className:"p-2 bg-white border border-border rounded-xl hover:bg-muted transition-colors",children:e.jsx(y,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-foreground uppercase tracking-tighter",children:"BUAT BLOG BARU"}),e.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"Tulis artikel atau berita terbaru untuk HMRPM."})]})]})}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 lg:grid-cols-3 gap-6 text-foreground",children:[e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Judul Artikel"}),e.jsx("input",{type:"text",value:a.title,onChange:t=>r("title",t.target.value),placeholder:"Masukkan judul blog...",className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-lg"}),s.title&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Isi Konten"}),e.jsxs("div",{className:"prose-sm ck-content max-w-none",children:[e.jsx("style",{children:`
                                        .ck-editor__editable {
                                            min-height: 400px;
                                            border-bottom-left-radius: 12px !important;
                                            border-bottom-right-radius: 12px !important;
                                        }
                                        .ck-editor {
                                            width: 100% !important;
                                        }
                                    `}),e.jsx(w,{editor:k,data:a.content,onChange:(t,l)=>{const b=l.getData();r("content",b)},config:{placeholder:"Tunjukkan kreativitasmu di sini...",toolbar:["heading","|","bold","italic","link","bulletedList","numberedList","blockQuote","|","undo","redo"]}})]}),s.content&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.content})]}),e.jsxs("div",{className:"space-y-2 pt-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Ringkasan (Opsional)"}),e.jsx("textarea",{value:a.excerpt,onChange:t=>r("excerpt",t.target.value),placeholder:"Ringkasan singkat yang muncul di daftar blog...",rows:"3",className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-medium text-sm resize-none"}),s.excerpt&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.excerpt})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(_,{size:12})," Tipe Blog"]}),e.jsxs("select",{value:a.blog_type_id,onChange:t=>r("blog_type_id",t.target.value),className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-sm",children:[e.jsx("option",{value:"",children:"Pilih Tipe"}),i.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.blog_type_id&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.blog_type_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(C,{size:12})," Tanggal Terbit"]}),e.jsx("input",{type:"date",value:a.date,onChange:t=>r("date",t.target.value),className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-bold text-sm"}),s.date&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.date})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-2xl border border-border",children:[e.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-slate-600",children:"Terbitkan Langsung?"}),e.jsx("button",{type:"button",onClick:()=>r("is_published",!a.is_published),className:c("relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none",a.is_published?"bg-brand-red":"bg-slate-300"),children:e.jsx("span",{className:c("inline-block h-4 w-4 transform rounded-full bg-white transition-transform",a.is_published?"translate-x-6":"translate-x-1")})})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-border shadow-sm space-y-6",children:[e.jsxs("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1 flex items-center gap-2",children:[e.jsx(x,{size:12})," Gambar Sampul"]}),e.jsx("div",{className:"relative group",children:o?e.jsxs("div",{className:"relative aspect-video rounded-2xl overflow-hidden border-2 border-brand-red/20 shadow-xl group",children:[e.jsx("img",{src:o,alt:"Preview",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("button",{type:"button",onClick:()=>{d(null),r("image",null)},className:"p-2 bg-white/20 backdrop-blur-md rounded-full text-white hover:bg-brand-red transition-colors",children:e.jsx(v,{size:20})})})]}):e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"file",onChange:u,accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10"}),e.jsxs("div",{className:"aspect-video bg-muted border-2 border-dashed border-border rounded-2xl flex flex-col items-center justify-center gap-3 group-hover:border-brand-red/50 transition-colors",children:[e.jsx("div",{className:"p-3 bg-white rounded-xl shadow-sm group-hover:scale-110 transition-transform",children:e.jsx(x,{className:"text-brand-red",size:24})}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:"Pilih Gambar Sampul"})]})]})}),s.image&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:s.image})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center gap-2 bg-slate-900 hover:bg-brand-red text-white py-3.5 rounded-2xl font-black transition-all shadow-xl hover:shadow-brand-red/30 uppercase tracking-widest overflow-hidden group relative",children:e.jsxs("span",{className:"relative z-10 flex items-center gap-2 leading-none",children:[e.jsx(L,{size:20}),n?"MENYIMPAN...":"SIMPAN BLOG"]})})]})]})]})]})}T.layout=i=>e.jsx(N,{children:i});export{T as default};
