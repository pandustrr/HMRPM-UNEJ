import{c as $,r as s,u as F,j as e,H as U,L as k,d as w,X as q,b as v}from"./app-BsDCLgsd.js";import{A as R}from"./AdminLayout-BzJBPKA0.js";import{C as T}from"./ConfirmModal-D_ZU6hsz.js";import{P as S,S as A}from"./square-pen-DdoBqSxE.js";import{T as D}from"./tag-BP1P0G2L.js";import{T as M}from"./trash-2-9mkdg19c.js";import{F as K}from"./file-text-CYZ2Wlgc.js";import{C as Y}from"./calendar-BsKtn9KB.js";import{S as V}from"./save-COw1thEO.js";import"./users-CbBri5PR.js";import"./graduation-cap-BmbWGz5e.js";import"./index-Bmg_cQlb.js";import"./chevron-right-DAb9T5op.js";import"./chevron-left-CWgBX94_.js";import"./chevron-down-CBxsPo30.js";import"./Toast-Bdjx6Kdi.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],J=$("external-link",X);function Q({blogs:a,blogTypes:m}){const[r,p]=s.useState("types"),[B,d]=s.useState(!1),[n,u]=s.useState(null),[L,l]=s.useState(!1),[o,h]=s.useState(null),[C,c]=s.useState(!1),[i,b]=s.useState(null),{data:P,setData:f,post:z,put:E,processing:g,reset:x,errors:j}=F({name:""}),y=(t=null)=>{t?(h(t),f("name",t.name)):(h(null),x()),l(!0)},H=t=>{t.preventDefault(),o?E(`/admin/blog-types/${o.id}`,{onSuccess:()=>{l(!1),x()}}):z("/admin/blog-types",{onSuccess:()=>{l(!1),x()}})},O=t=>{b(t),c(!0)},I=()=>{v.delete(`/admin/blog-types/${i.id}`,{onSuccess:()=>{c(!1),b(null)}})},G=t=>{u(t),d(!0)},_=()=>{v.delete(`/admin/blog/${n.id}`,{onSuccess:()=>{d(!1),u(null)}})};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Kelola Blog"}),e.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-foreground uppercase tracking-tighter",children:"KELOLA BLOG"}),e.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"Manajemen kategori dan artikel blog HMRPM."})]}),r==="types"?e.jsxs("button",{onClick:()=>y(),className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2.5 rounded-xl font-bold hover:bg-brand-red/90 transition-all shadow-lg shadow-brand-red/20",children:[e.jsx(S,{size:18}),"Tambah Tipe"]}):e.jsxs(k,{href:"/admin/blog/create",className:"flex items-center gap-2 bg-brand-red text-white px-4 py-2.5 rounded-xl font-bold hover:bg-brand-red/90 transition-all shadow-lg shadow-brand-red/20",children:[e.jsx(S,{size:18}),"Tambah Blog"]})]}),e.jsxs("div",{className:"flex p-1 gap-1 bg-muted/30 rounded-2xl w-fit border border-border mx-auto",children:[e.jsx("button",{onClick:()=>p("types"),className:w("px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all",r==="types"?"bg-white shadow-sm text-brand-red":"text-muted-foreground hover:bg-muted"),children:"TIPE BLOG"}),e.jsx("button",{onClick:()=>p("blogs"),className:w("px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all",r==="blogs"?"bg-white shadow-sm text-brand-red":"text-muted-foreground hover:bg-muted"),children:"DAFTAR BLOG"})]}),r==="types"?e.jsx("div",{className:"max-w-2xl mx-auto bg-white rounded-3xl border border-border shadow-sm overflow-hidden animate-in fade-in duration-300",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Tipe Blog"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:m.length>0?m.map(t=>e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-brand-red/10 rounded-lg text-brand-red group-hover:scale-110 transition-transform",children:e.jsx(D,{size:16})}),e.jsx("span",{className:"font-bold text-sm",children:t.name})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 text-right",children:[e.jsx("button",{onClick:()=>y(t),className:"p-2 flex items-center justify-center bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(A,{size:16})}),e.jsx("button",{onClick:()=>O(t),className:"p-2 flex items-center justify-center bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Hapus",children:e.jsx(M,{size:16})})]})})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"2",className:"px-6 py-12 text-center text-muted-foreground italic",children:"Belum ada tipe blog yang ditambahkan."})})})]})}):e.jsx("div",{className:"bg-white rounded-3xl border border-border shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-muted/50 border-b border-border",children:[e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Konten"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Tipe & Tanggal"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:a.length>0?a.map(t=>{var N;return e.jsxs("tr",{className:"hover:bg-muted/30 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-12 rounded-lg overflow-hidden bg-muted shrink-0 border border-border",children:t.image?e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:e.jsx(K,{size:20})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-bold text-sm text-foreground line-clamp-1 group-hover:text-brand-red transition-colors",children:t.title}),e.jsx("p",{className:"text-[10px] text-muted-foreground font-medium line-clamp-1",children:t.excerpt})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-0.5 bg-brand-red/10 text-brand-red rounded-md w-fit",children:[e.jsx(D,{size:10}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider",children:(N=t.blog_type)==null?void 0:N.name})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[e.jsx(Y,{size:12}),e.jsx("span",{className:"text-xs font-medium",children:new Date(t.date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})]})}),e.jsx("td",{className:"px-6 py-4",children:t.is_published?e.jsx("span",{className:"px-2.5 py-1 bg-green-100 text-green-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"Terbit"}):e.jsx("span",{className:"px-2.5 py-1 bg-amber-100 text-amber-700 rounded-full text-[10px] font-black uppercase tracking-wider",children:"Draft"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2 text-right",children:[e.jsx("a",{href:`/blog/${t.slug}`,target:"_blank",className:"p-2 flex items-center justify-center bg-slate-50 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Lihat Publik",children:e.jsx(J,{size:16})}),e.jsx(k,{href:`/admin/blog/${t.id}/edit`,className:"p-2 flex items-center justify-center bg-blue-50 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit",children:e.jsx(A,{size:16})}),e.jsx("button",{onClick:()=>G(t),className:"p-2 flex items-center justify-center bg-red-50 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Hapus",children:e.jsx(M,{size:16})})]})})]},t.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-muted-foreground italic",children:"Belum ada postingan blog."})})})]})})]}),L&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white rounded-3xl p-8 max-w-md w-full shadow-2xl animate-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-black tracking-tighter uppercase",children:o?"EDIT TIPE BLOG":"TAMBAH TIPE BLOG"}),e.jsx("button",{onClick:()=>l(!1),className:"text-muted-foreground hover:text-foreground p-1",children:e.jsx(q,{size:20})})]}),e.jsxs("form",{onSubmit:H,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-slate-500 px-1",children:"Nama Tipe Blog"}),e.jsx("input",{type:"text",value:P.name,onChange:t=>f("name",t.target.value),placeholder:"Masukkan nama tipe...",className:"w-full px-4 py-3 bg-muted border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20 transition-all font-medium",autoFocus:!0}),j.name&&e.jsx("p",{className:"text-brand-red text-[10px] font-bold mt-1",children:j.name})]}),e.jsxs("button",{type:"submit",disabled:g,className:"w-full flex items-center justify-center gap-2 bg-slate-900 hover:bg-brand-red text-white py-4 rounded-xl font-black transition-all shadow-xl hover:shadow-brand-red/20 uppercase tracking-widest",children:[e.jsx(V,{size:18}),g?"MENYIMPAN...":"SIMPAN PERUBAHAN"]})]})]})}),e.jsx(T,{isOpen:B,title:"HAPUS BLOG?",message:`Tindakan ini tidak dapat dibatalkan. Menghapus "${n==null?void 0:n.title}" akan menghilangkan data selamanya.`,onConfirm:_,onCancel:()=>d(!1),confirmText:"YA, HAPUS",cancelText:"BATAL"}),e.jsx(T,{isOpen:C,title:"HAPUS TIPE BLOG?",message:`Tindakan ini tidak dapat dibatalkan. Blog yang menggunakan tipe "${i==null?void 0:i.name}" mungkin terpengaruh.`,onConfirm:I,onCancel:()=>c(!1),confirmText:"YA, HAPUS",cancelText:"BATAL"})]})}Q.layout=a=>e.jsx(R,{children:a});export{Q as default};
