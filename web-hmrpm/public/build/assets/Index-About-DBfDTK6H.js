import{u as k,r as n,j as e,H as w,b as y}from"./app-BsDCLgsd.js";import{A as C}from"./AdminLayout-BzJBPKA0.js";import{C as S}from"./ConfirmModal-D_ZU6hsz.js";import{I as P,S as A}from"./ImageCropper-BF66d-ZL.js";import{I as F}from"./image-B01J52se.js";import{F as B}from"./film-B41ET96m.js";import{U as I}from"./upload-CeMf_9aq.js";import{C as M}from"./Toast-Bdjx6Kdi.js";import{T as R}from"./trash-2-9mkdg19c.js";import{S as U}from"./save-COw1thEO.js";import"./users-CbBri5PR.js";import"./file-text-CYZ2Wlgc.js";import"./graduation-cap-BmbWGz5e.js";import"./index-Bmg_cQlb.js";import"./chevron-right-DAb9T5op.js";import"./chevron-left-CWgBX94_.js";import"./chevron-down-CBxsPo30.js";const G=({settings:t})=>{const{data:s,setData:r,post:h,processing:p,errors:x}=k({type:(t==null?void 0:t.type)||"image",file:null}),[d,o]=n.useState((t==null?void 0:t.value)||null),[f,c]=n.useState(!1),[u,b]=n.useState(null),[g,m]=n.useState(!1),j=a=>{const l=a.target.files[0];if(l)if(s.type==="image"){const i=new FileReader;i.onload=()=>{o(i.result),b(i.result),r("file",l)},i.readAsDataURL(l)}else r("file",l),o(URL.createObjectURL(l)),b(null)},v=a=>{a.preventDefault(),h("/admin/about",{forceFormData:!0})},N=()=>{c(!1),y.delete("/admin/about",{onSuccess:()=>{o(null),r("file",null)}})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Background About | HMRPM Admin"}),e.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tighter mb-1 uppercase",children:"Background ABOUT"}),e.jsx("p",{className:"text-slate-500 text-xs font-medium",children:"Kelola tampilan hero background halaman About (Video/Gambar/GIF)."})]}),e.jsx("div",{className:"bg-white rounded-4xl border border-slate-200 p-6 shadow-sm",children:e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-slate-700 text-[10px] font-black uppercase tracking-widest px-1",children:"Tipe Background"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[{id:"image",label:"Gambar",icon:F},{id:"video",label:"Video (MP4/GIF)",icon:B}].map(a=>e.jsxs("button",{type:"button",onClick:()=>r("type",a.id),className:`flex items-center justify-center gap-3 p-3 rounded-xl border-2 transition-all ${s.type===a.id?"border-brand-red bg-brand-red/5 text-brand-red shadow-lg shadow-brand-red/10":"border-slate-100 bg-slate-50 text-slate-500 hover:border-slate-200"}`,children:[e.jsx(a.icon,{size:18}),e.jsx("span",{className:"font-bold text-sm",children:a.label})]},a.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-slate-700 text-[10px] font-black uppercase tracking-widest px-1",children:"Unggah File Baru"}),e.jsxs("div",{className:"relative group",children:[e.jsx("input",{type:"file",onChange:j,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",accept:s.type==="video"?"video/mp4":"image/*"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-200 group-hover:border-brand-red/50 rounded-3xl p-8 flex flex-col items-center justify-center gap-3 transition-all bg-slate-50 group-hover:bg-brand-red/5",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white flex items-center justify-center text-slate-400 group-hover:text-brand-red transition-all shadow-sm",children:e.jsx(I,{size:24})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-900 font-bold text-sm",children:"Pilih file atau tarik kesini"}),e.jsx("p",{className:"text-slate-500 text-[10px]",children:"MP4, JPG, PNG, atau GIF (Maks. 20MB)"})]})]})]}),x.file&&e.jsxs("p",{className:"text-brand-red text-[10px] font-bold flex items-center gap-2 mt-2 px-1",children:[e.jsx(M,{size:12})," ",x.file]})]}),s.type==="image"&&g&&u&&e.jsx(P,{image:u,aspectRatio:20/9,onCropComplete:a=>{r("file",a),o(URL.createObjectURL(a)),m(!1)},onCancel:()=>{m(!1)}}),d&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-slate-700 text-[10px] font-black uppercase tracking-widest px-1",children:s.file?"Preview Perubahan (Belum Disimpan)":"Background Aktif"}),e.jsxs("div",{className:"relative rounded-2xl overflow-hidden aspect-video border border-slate-200 shadow-inner bg-slate-100 max-w-lg mx-auto",children:[s.type==="video"?e.jsx("video",{src:d,className:"w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,playsInline:!0}):e.jsx("img",{src:d,alt:"Preview",className:"w-full h-full object-cover"}),s.file&&s.type==="image"&&e.jsx("button",{type:"button",onClick:()=>m(!0),className:"absolute top-3 right-3 p-2 bg-brand-red text-white rounded-xl shadow-xl hover:bg-brand-red/90 transition-all hover:scale-110 active:scale-95 group/crop",title:"Potong Gambar",children:e.jsx(A,{size:16,className:"group-hover/crop:rotate-12 transition-transform"})})]})]}),e.jsxs("div",{className:"pt-5 border-t border-slate-100 flex justify-between items-center text-xs",children:[t&&e.jsxs("button",{type:"button",onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-3 text-slate-500 hover:text-brand-red font-bold transition-all group",children:[e.jsx(R,{size:18,className:"group-hover:scale-110 transition-transform"}),"Hapus Background"]}),e.jsxs("button",{type:"submit",disabled:p,className:"flex items-center gap-2 px-6 py-2.5 bg-slate-900 hover:bg-brand-red text-white rounded-xl font-bold text-sm transition-all shadow-xl hover:shadow-brand-red/20 disabled:opacity-50 group ml-auto uppercase tracking-widest",children:[e.jsx(U,{size:18,className:"group-hover:scale-110 transition-transform"}),p?"Menyimpan...":"Simpan Perubahan"]})]})]})}),e.jsx(S,{isOpen:f,title:"Hapus Background?",message:"Apakah Anda yakin ingin menghapus background custom dan kembali ke default sistem?",onConfirm:N,onCancel:()=>c(!1)})]})]})};G.layout=t=>e.jsx(C,{children:t});export{G as default};
