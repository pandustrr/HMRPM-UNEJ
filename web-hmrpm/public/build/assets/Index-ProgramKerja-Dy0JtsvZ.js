import{c as v,r as a,j as e,H as y,L as c,d as w,b as x}from"./app-BQyAt-a0.js";import{A as k}from"./AdminLayout-DvnZABpI.js";import{P as S,S as C}from"./square-pen-BTBVDu30.js";import{C as z}from"./calendar-DzA_Iyvw.js";import{T as m}from"./trash-2-B99RZH-7.js";import{C as P,a as D,b as A}from"./clock-C0uT0-Sa.js";import"./users-CoWn5egU.js";import"./file-text-BjLhBNnE.js";import"./graduation-cap-CKyIkio2.js";import"./index-YZG5WpAO.js";import"./chevron-right-BSv96KPr.js";import"./chevron-left-PtVmb53x.js";import"./chevron-down-DewqCFWx.js";import"./Toast-DTaku6Zt.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_=v("funnel",L);function H({programKerjas:t,divisions:u,selectedDivisionId:l}){const[p,d]=a.useState(!1),[r,n]=a.useState(null),[h,o]=a.useState(l||"");a.useEffect(()=>{o(l||"")},[l]);const f=s=>{switch(s){case"Selesai":return"text-emerald-600 bg-emerald-50 border-emerald-100";case"Progress":return"text-blue-600 bg-blue-50 border-blue-100";case"Perencanaan":return"text-purple-600 bg-purple-50 border-purple-100";default:return"text-muted-foreground bg-muted border-border"}},g=s=>{switch(s){case"Selesai":return e.jsx(A,{size:12});case"Progress":return e.jsx(D,{size:12});default:return e.jsx(P,{size:12})}},j=s=>{n(s),d(!0)},b=()=>{r&&x.delete(`/admin/program-kerja/${r.id}`,{onSuccess:()=>{d(!1),n(null)}})},N=s=>{o(s),x.get("/admin/program-kerja",{division_id:s},{preserveState:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Kelola Program Kerja"}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Kelola Program Kerja"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Atur program kerja per divisi"})]}),e.jsxs(c,{href:"/admin/program-kerja/create",className:"flex items-center justify-center sm:justify-start gap-2 bg-brand-red text-white px-4 py-2.5 rounded-xl font-bold hover:bg-brand-red/90 transition-colors w-full sm:w-auto",children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Tambah Program Kerja"})]})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-border p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_,{size:18,className:"text-muted-foreground"}),e.jsxs("select",{value:h,onChange:s=>N(s.target.value),className:"flex-1 px-4 py-2 border border-border rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-red/20",children:[e.jsx("option",{value:"",children:"Semua Divisi"}),u.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-border overflow-hidden shadow-md",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50 border-b border-border",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-4 font-bold text-sm text-foreground",children:"Judul"}),e.jsx("th",{className:"text-left px-6 py-4 font-bold text-sm text-foreground",children:"Divisi"}),e.jsx("th",{className:"text-left px-6 py-4 font-bold text-sm text-foreground",children:"Tanggal"}),e.jsx("th",{className:"text-left px-6 py-4 font-bold text-sm text-foreground",children:"Status"}),e.jsx("th",{className:"text-right px-6 py-4 font-bold text-sm text-foreground",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-border",children:t.length>0?t.map(s=>{var i;return e.jsxs("tr",{className:"hover:bg-muted/20 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("p",{className:"font-bold text-foreground",children:s.title})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:(i=s.division)==null?void 0:i.name})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(z,{size:14}),new Date(s.event_date).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:w("inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[10px] font-black uppercase tracking-wider border shadow-sm",f(s.status)),children:[g(s.status),s.status||"Progress"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(c,{href:`/admin/program-kerja/${s.id}/edit`,className:"p-2 bg-muted hover:bg-muted/80 text-foreground rounded-lg transition-colors",children:e.jsx(C,{size:18})}),e.jsx("button",{onClick:()=>j(s),className:"p-2 bg-red-50 hover:bg-red-100 text-red-600 rounded-lg transition-colors",children:e.jsx(m,{size:18})})]})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"px-6 py-12 text-center text-muted-foreground",children:"Belum ada program kerja"})})})]})})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4 animate-in fade-in duration-200",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-xs w-full shadow-2xl animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-3",children:[e.jsx("div",{className:"p-1.5 bg-red-50 rounded-lg",children:e.jsx(m,{size:20})}),e.jsx("h3",{className:"text-lg font-bold",children:"Hapus Program Kerja?"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-6 leading-relaxed",children:["Apakah Anda yakin ingin menghapus ",e.jsx("strong",{children:r==null?void 0:r.title}),"?"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 bg-muted hover:bg-muted/80 rounded-xl font-bold text-sm transition-colors",children:"Batal"}),e.jsx("button",{onClick:b,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-xl font-bold text-sm transition-colors shadow-lg shadow-red-100",children:"Hapus"})]})]})})]})}H.layout=t=>e.jsx(k,{children:t});export{H as default};
